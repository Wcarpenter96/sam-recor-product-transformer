import requests
from recor_layer.requests.iml.iml_base_request import ImlBaseRequest


class ImlGetItemInfoRequest(ImlBaseRequest):

    def run(self, counter: int):

        print("ATTEMPT: Getting Item Info Response from IML")
        item_info = self.base_url + "/item_info_since/" + str(counter)

        response = requests.get(item_info, params=self.default_params, stream=True)

        if response.ok:
            print("SUCCESS: Received Item Info Response from IML")
            return response
        else:
            raise Exception(response.text)
